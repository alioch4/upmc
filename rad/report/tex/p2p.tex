\section{Botnets pair-à-pair}

\subsection{Intérêt du modèle pair-à-pair}

Les modèles actuels de botnet sont majoritairement hiérarchiques. Les
\textit{bot controllers} sont nécessaires afin de faire fonctionner des botnets
de taille importante. Cependant, la configuration d'adresses DNS
dynamique peut demander des ressources temporelles et financières importantes. En
outre, les fournisseurs d'adresses DNS dynamiques peuvent, en partenariat avec
les autorités, trouver les comportements suspects afin de neutraliser des
botnets.

Une parade contre cette faiblesse de passage à l'échelle des botnets
hiérarchiques est l'utilisation de botnets pair à pair, ne reposant plus sur une
hiérarchie mais davantage sur des connexions locales.


\subsection{Un ver en deux temps pour construire un botnet pair à pair}

Afin de construire un réseau pair à pair malveillant, un ver peut être utilisé.
Ce ver fonctionne essentiellement en deux temps :

\begin{description}

\item[Vérification :] Le ver doit s'assurer que la station qui est en cours de
	traitement n'est pas un honeypot. Pour ce faire, il peut utiliser une
	méthodologie similaire à celle présentée précédemment dans l'article. De
	ce fait, si la station n'est pas digne de confiance pour le botnet, alors
	le ver n'essaye pas de faire rentrer la station dans le botnet et aucune
	information ne sera donnée à cette station. Cependant, si la vérification
	aboutit, alors le ver peut passer à la seconde étape.

\item[Enregistrement :] Cette étape a pour but d'envoyer à la station
	fraîchement compromise de nouvelles cibles à infecter avec le même ver
	qui a été utilisé pour la compromettre elle-même. Les listes en question
	sont nommées des \textit{buddy lists}. L'avantage énorme de ces buddy
	lists réside dans le fait qu'en cas de prise de contrôle d'un nœud du
	botnet par un attaquant, il est difficile d'avoir accès à plus de nœuds
	que ceux de la buddy list. De cette façon, le réseau résiste aux
	attaques. En outre, même si des nœuds sont attaqués et mis hors
	service par des attaquants, l'administrateur du botnet peut toujours
	donner des ordres via les noeuds encore connectés.

\end{description}

Ce ver fonctionnant en deux temps facilite significativement la création de
botnets, tout en les rendant assez résistantes aux attaques. En particulier,
si un noeud se fait prendre, il ne révèle que la liste de ces voisins directs.
Ainsi, le botnet est de manière générale plus difficile à cartographier.

\subsection{Fonctionnement du botnet pair-à-pair}

Les commandes dans un botnet pair à pair sont envoyés via un mécanisme de
broadcast.  Le contrôleur du botnet envoie un message à l'ensemble des
machines qui sont dans sa buddy list.  Les messages une fois reçus sont envoyés
aux machines présentes dans les buddy list de chacun de ces noeuds, qui feront
de même, et ainsi de suite.

Une manière d'interagir avec la vitesse de transmissions des ordres pourrait
être de changer la taille de la buddy list. De cette façon les machines
transmettraient les ordres à beaucoup plus de personnes à la fois, ce qui
augmenterait de fait la vitesse de transmission d'un ordre au sein du botnet.
